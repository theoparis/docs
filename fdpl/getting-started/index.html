<!doctype html><html lang=en><head><title>Getting Started :: FireNodes Documentation</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Getting started with Flowtr Deploy"><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=https://creepinson.github.io/deno-starter/fdpl/getting-started/><link rel=stylesheet href=https://creepinson.github.io/deno-starter/assets/style.css><link rel=apple-touch-icon href=https://creepinson.github.io/deno-starter/img/apple-touch-icon-192x192.png><link rel="shortcut icon" href=https://creepinson.github.io/deno-starter/img/favicon/orange.png><meta name=twitter:card content="summary"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="og:title" content="Getting Started"><meta property="og:description" content="Getting started with Flowtr Deploy"><meta property="og:url" content="https://creepinson.github.io/deno-starter/fdpl/getting-started/"><meta property="og:site_name" content="FireNodes Documentation"><meta property="og:image" content="https://creepinson.github.io/deno-starter/img/favicon/orange.png"><meta property="og:image:width" content="2048"><meta property="og:image:height" content="1024"></head><body class=orange><div class="container center headings--one-size"><header class=header><div class=header__inner><div class=header__logo><a href=https://creepinson.github.io/deno-starter><div class=logo>FireNodes Documentation</div></a></div></div></header><div class=content><div class=post><h1 class=post-title><a href=https://creepinson.github.io/deno-starter/fdpl/getting-started/>Getting Started</a></h1><div class=post-meta></div><div class=post-content><div><h2 id=prerequisites>Prerequisites<a href=#prerequisites class=hanchor arialabel=Anchor>&#8983;</a></h2><ul><li>Node >= 15</li><li>A kubernetes cluster (<a href=https://minikube.sigs.k8s.io/docs/>see minikube</a>)</li></ul><h2 id=installation>Installation<a href=#installation class=hanchor arialabel=Anchor>&#8983;</a></h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git clone https://github.com/creepinson/fdpl
cd fdpl
</code></pre></div><h2 id=getting-started>Getting Started<a href=#getting-started class=hanchor arialabel=Anchor>&#8983;</a></h2><p>The configuration file for fdpl is made with typescript and is located at <code>fdpl.ts</code> in the root of the project.</p><h3 id=configuration-example>Configuration Example<a href=#configuration-example class=hanchor arialabel=Anchor>&#8983;</a></h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=color:#66d9ef>import</span> <span style=color:#66d9ef>type</span> { <span style=color:#a6e22e>InputConfig</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#34;@flowtr/fdpl&#34;</span>;

<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>config</span>: <span style=color:#66d9ef>InputConfig</span> <span style=color:#f92672>=</span> {
    <span style=color:#a6e22e>database</span><span style=color:#f92672>:</span> {
        <span style=color:#66d9ef>type</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;sqlite&#34;</span>,
        <span style=color:#a6e22e>uri</span><span style=color:#f92672>:</span> <span style=color:#e6db74>`sqlite://</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>process</span>.<span style=color:#a6e22e>cwd</span>()<span style=color:#e6db74>}</span><span style=color:#e6db74>/data/fdpl.sqlite`</span>,
    },
    <span style=color:#a6e22e>apps</span><span style=color:#f92672>:</span> [
        {
            <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;web&#34;</span>,
            <span style=color:#a6e22e>build</span><span style=color:#f92672>:</span> {
                <span style=color:#a6e22e>image</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;nginx:alpine&#34;</span>,
            },
            <span style=color:#a6e22e>expose</span><span style=color:#f92672>:</span> [
                {
                    <span style=color:#a6e22e>port</span><span style=color:#f92672>:</span> {
                        <span style=color:#66d9ef>from</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>80</span>,
                    },
                    <span style=color:#a6e22e>host</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;test.localhost&#34;</span>,
                },
            ],
        },
    ],
};

<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#a6e22e>config</span>;

</code></pre></div><h3 id=configuration-breakdown>Configuration Breakdown<a href=#configuration-breakdown class=hanchor arialabel=Anchor>&#8983;</a></h3><p>The first section in the configuration specifies the location of the database. You can use postgresql, mysql, and sqlite as the database type.</p><p>The next section is where you define your apps. Each app must have a name. The build configuration for your app must at least have an docker image specified. In this example, we&rsquo;ve put <code>nginx</code>, which is a web server with a demo website applied by default.</p><p>The expose option of an app lets you <em>expose</em> services to the internet using <a href=https://caddyserver.com>Caddy</a>. If you do not want to expose a service using a domain, but you want to expose it locally then you can set the host property to <code>false</code>.</p><h2 id=deploying>Deploying<a href=#deploying class=hanchor arialabel=Anchor>&#8983;</a></h2><p>Currently you need to have ts-node-dev globally installed for this to work. (<code>npm i -g ts-node-dev</code>)</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>ts-node-dev src/cli.ts deploy
</code></pre></div><p>This will deploy all of the apps you have specified in fdpl.ts to the kubernetes cluster.</p><h2 id=debugging>Debugging<a href=#debugging class=hanchor arialabel=Anchor>&#8983;</a></h2><p>You can view the full kubernetes cluster with <a href=https://k8slens.dev/>Lens</a>, in case you need more information or access to the apps that were deployed.</p></div></div></div></div><footer class=footer><div class=footer__inner><div class=copyright><span>Â© 2021 Powered by <a href=http://gohugo.io>Hugo</a></span>
<span>:: Theme made by <a href=https://twitter.com/panr>panr</a></span></div></div></footer><script src=https://creepinson.github.io/deno-starter/assets/main.js></script><script src=https://creepinson.github.io/deno-starter/assets/prism.js></script></div></body></html>